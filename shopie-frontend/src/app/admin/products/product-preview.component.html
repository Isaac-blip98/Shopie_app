<section class="w-full p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    All Products
    <span class="text-yellow-500 ml-1">({{ products.length }})</span>
  </h2>

  <div *ngIf="isLoading" class="flex justify-center py-16 text-gray-500">
    <span class="animate-pulse text-lg">Loadingâ€¦</span>
  </div>

  <div
    *ngIf="!isLoading"
    class="grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"
  >
    <article
      *ngFor="let p of products; trackBy: trackByProduct"
      class="bg-white rounded-lg shadow hover:shadow-lg transition overflow-hidden"
    >
      <div class="relative w-full pb-[66%] bg-gray-100">
        <img
          [src]="p.image || 'https://placehold.co/600x400?text=No+Image'"
          [alt]="p.name"
          class="absolute inset-0 w-full h-full object-cover transition"
        />
      </div>

      <div class="p-4 space-y-2">
        <h3 class="font-semibold text-gray-800 truncate" [title]="p.name">
          {{ p.name }}
        </h3>

        <p class="text-sm text-gray-600 line-clamp-2" [title]="p.description">
          {{ p.description }}
        </p>

        <p class="font-bold text-indigo-600">
          ${{ p.price | number : '1.2-2' }}
        </p>

        <p class="text-xs text-gray-500">
          Stock: <span class="font-medium">{{ p.quantity }}</span>
        </p>
      </div>
    </article>
  </div>

  <div
    *ngIf="!isLoading && products.length === 0"
    class="flex flex-col items-center py-20 text-gray-500"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-16 h-16 mb-4 text-yellow-400"
      fill="none" viewBox="0 0 24 24" stroke="currentColor"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M3 3h18l-1 12H4L3 3z" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M5 21h14M9 21v-4m6 4v-4" />
    </svg>
    <p class="text-lg font-medium">No products available</p>
    <p>Check back later for new arrivals.</p>
  </div>
</section>
